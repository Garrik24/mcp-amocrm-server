# üß™ –û–¢–ß–ï–¢ –û –ü–†–û–í–ï–†–ö–ï AmoCRM MCP Server

## ‚úÖ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞: –†–ê–ë–û–¢–ê–ï–¢

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- **URL**: http://localhost:8000
- **–í–µ—Ä—Å–∏—è**: 3.0.0
- **–°—Ç–∞—Ç—É—Å**: active
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/docs

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ endpoints:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| üÜï –ù–æ–≤—ã–µ —É–º–Ω—ã–µ | 5 |
| üì° –ë–∞–∑–æ–≤—ã–µ | 10 |
| **–í—Å–µ–≥–æ** | **15** |

---

## üÜï –ù–û–í–´–ï –£–ú–ù–´–ï ENDPOINTS (—Å–æ–∑–¥–∞–Ω—ã —Å–µ–≥–æ–¥–Ω—è):

### 1. POST /api/contacts/search
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ email, —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ –∏–º–µ–Ω–∏  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `query` (—Å—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞), `limit` (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

### 2. POST /api/contacts/check-exists ‚≠ê
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `query` (email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω)  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `{"exists": true/false, "contact_id": 123456}`  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞

### 3. POST /api/contacts/get-or-create ‚≠ê‚≠ê
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `query`, `name`, `email`, `phone`  
**–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—à–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

### 4. POST /api/leads/create-with-contact
**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `lead_name`, `lead_price`, `contact_id` –∏–ª–∏ `contact_name`  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

### 5. POST /api/smart/client-and-lead ‚≠ê‚≠ê‚≠ê
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–û–õ–ù–´–ô –¶–ò–ö–õ - —Å–∞–º—ã–π —É–º–Ω—ã–π endpoint!  
**–ê–ª–≥–æ—Ä–∏—Ç–º**:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç
2. –°–æ–∑–¥–∞–µ—Ç –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–¥–µ–ª–∫–∏
4. –°–æ–∑–¥–∞–µ—Ç —Å–¥–µ–ª–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. –°–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `contact_query` (–¥–ª—è –ø–æ–∏—Å–∫–∞)
- `contact_name`, `contact_email`, `contact_phone` (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è)
- `lead_name`, `lead_price` (–¥–ª—è —Å–¥–µ–ª–∫–∏)
- `check_existing_leads` (–ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–æ–º

---

## üì° –ë–∞–∑–æ–≤—ã–µ endpoints:

- GET  `/` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- GET  `/health` - health check
- POST `/api/entities` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π CRUD
- GET  `/api/account` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ
- GET  `/api/pipelines` - –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂
- GET  `/api/users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- GET  `/api/custom_fields/{type}` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è
- GET  `/api/report/deals` - –æ—Ç—á–µ—Ç—ã –ø–æ —Å–¥–µ–ª–∫–∞–º
- DELETE `/api/entities/{type}/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ
- POST `/webhooks/receive` - –ø—Ä–∏–µ–º –≤–µ–±—Ö—É–∫–æ–≤

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

| Endpoint | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|--------|-----------|
| GET / | ‚úÖ | 200 OK - –°–µ—Ä–≤–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω |
| GET /health | ‚úÖ | 200 OK - –ó–¥–æ—Ä–æ–≤ |
| GET /openapi.json | ‚úÖ | 200 OK - –°—Ö–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ |
| POST /api/contacts/check-exists | ‚úÖ | 400 - –†–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ—Å–∏—Ç —Ç–æ–∫–µ–Ω) |
| Swagger UI | ‚úÖ | –î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ /docs |

---

## üéØ MCP –°–µ—Ä–≤–µ—Ä:

–§–∞–π–ª: `mcp_server.py`
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: 951
- **MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: 24
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ö–æ–Ω—Ç–∞–∫—Ç—ã (8), –°–¥–µ–ª–∫–∏ (7), –ö–æ–º–ø–∞–Ω–∏–∏ (2), –ó–∞–¥–∞—á–∏ (1), –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (3), –£–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (2), –û—Ç—á–µ—Ç—ã (1)

---

## ‚úÖ –í–´–í–û–î:

1. ‚úÖ FastAPI —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ –í—Å–µ 15 endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
3. ‚úÖ 5 –Ω–æ–≤—ã—Ö —É–º–Ω—ã—Ö endpoints —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã
4. ‚úÖ OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞
5. ‚úÖ MCP —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω AmoCRM –≤ `.env`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ Claude Desktop
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: —Å–º. README.md –∏ QUICKSTART.md
